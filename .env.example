# PaperSorter Docker Environment Configuration
# Copy this file to .env and fill in your values

# ============================================
# Database Configuration
# ============================================
POSTGRES_DB=papersorter
POSTGRES_USER=papersorter
POSTGRES_PASSWORD=changeme  # CHANGE THIS!

# ============================================
# Application Configuration
# ============================================
# Flask secret key for session management (generate with: python -c "import secrets; print(secrets.token_hex(32))")
FLASK_SECRET_KEY=your-secret-key-here

# Site configuration
SITE_NAME=PaperSorter
BASE_URL=http://localhost  # Change to https://your-domain.com for production
DOMAIN=localhost  # Change to your-domain.com for production
ADMIN_EMAIL=admin@example.com  # Used for Let's Encrypt SSL certificates
DEFAULT_TIMEZONE=UTC  # Default timezone for new users (e.g., America/New_York, Asia/Seoul)
DEFAULT_DATE_FORMAT=MMM D, YYYY  # Default date format (e.g., YYYY-MM-DD, DD/MM/YYYY)
# Comma-separated list of admin emails or ORCID IDs
ADMIN_USERS=  # Example: admin@example.com,0000-0002-1825-0097@orcid.org

# ============================================
# OAuth Configuration
# ============================================
# Google OAuth (https://console.cloud.google.com/)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# GitHub OAuth (https://github.com/settings/developers)
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# ORCID OAuth (https://orcid.org/developer-tools)
ORCID_CLIENT_ID=
ORCID_CLIENT_SECRET=

# ============================================
# API Keys
# ============================================
# Embedding API configuration
EMBEDDING_API_KEY=
EMBEDDING_API_URL=https://api.openai.com/v1  # Or your custom endpoint
EMBEDDING_MODEL=text-embedding-3-large  # Model name for embeddings
EMBEDDING_DIMENSIONS=  # Optional: dimensions (e.g., 1536 for pgvector HNSW indexing)

# Summarization API (e.g., Gemini)
SUMMARIZATION_API_KEY=
SUMMARIZATION_API_URL=https://generativelanguage.googleapis.com/v1beta/openai
SUMMARIZATION_MODEL=gemini-2.0-flash-thinking-exp-01-21  # Model for summarization

# Scholarly Database Provider
SCHOLARLY_PROVIDER=semantic_scholar  # Options: semantic_scholar, openalex
MATCH_DATE_TOLERANCE_DAYS=60  # Date tolerance for automatic article matching

# Semantic Scholar API
SEMANTIC_SCHOLAR_API_KEY=

# OpenAlex (if using instead of Semantic Scholar)
OPENALEX_EMAIL=your-email@domain.com

# ============================================
# Email/SMTP Configuration
# ============================================
# SMTP provider settings for email notifications
# Option 1: Use a predefined provider (gmail, outlook)
SMTP_PROVIDER=gmail  # Options: gmail, outlook, custom
# For Gmail/Outlook, only username and password are needed:
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=  # Use app-specific password, not regular password

# Option 2: Custom SMTP configuration (when SMTP_PROVIDER=custom)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_ENCRYPTION=tls  # Options: tls, ssl, none
SMTP_TIMEOUT=30

# Email notification settings
EMAIL_FROM=papersorter@example.com  # Sender address for notifications
EMAIL_FROM_NAME=PaperSorter Newsletter  # Sender display name
EMAIL_SUBJECT_TEMPLATE=Research Papers Digest - {date:%Y-%m-%d}  # Subject line template

# ============================================
# Port Configuration (optional)
# ============================================
HTTP_PORT=80
HTTPS_PORT=443

# ============================================
# Resource Limits (optional, for production)
# ============================================
# Uncomment and adjust for production deployments
# WEB_MEMORY_LIMIT=4G
# WEB_CPU_LIMIT=2
# DB_MEMORY_LIMIT=2G
# DB_CPU_LIMIT=2