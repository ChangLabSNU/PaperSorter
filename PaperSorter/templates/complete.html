{% extends "base.html" %}

{% block title %}Labeling Complete{% endblock %}

{% block header %}
<!-- No header for this page -->
{% endblock %}

{% block styles %}
<style>
    body {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
    }

    .container-complete {
        max-width: 600px;
        margin: 0 auto;
    }

    .complete-card {
        background: var(--bg-card);
        border-radius: 8px;
        box-shadow: var(--shadow-card);
        padding: 40px;
        text-align: center;
        transition: background-color var(--transition-base);
    }

    .success-icon {
        font-size: 64px;
        color: var(--color-success);
        margin-bottom: 20px;
    }

    .warning-icon {
        font-size: 64px;
        color: var(--color-warning);
        margin-bottom: 20px;
    }

    .title {
        font-size: 28px;
        font-weight: bold;
        color: var(--text-primary);
        margin-bottom: 20px;
        transition: color var(--transition-base);
    }

    .message {
        font-size: 18px;
        color: var(--text-meta);
        margin-bottom: 30px;
        transition: color var(--transition-base);
    }

    .stats {
        background: var(--bg-hover);
        border-radius: 6px;
        padding: 20px;
        margin-bottom: 30px;
        transition: background-color var(--transition-base);
    }

    .stat-row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
        font-size: 16px;
    }

    .stat-label {
        font-weight: bold;
        color: var(--text-secondary);
        transition: color var(--transition-base);
    }

    .stat-value {
        color: var(--text-primary);
        transition: color var(--transition-base);
    }

    .command-box {
        text-align: left;
        font-family: monospace;
    }

    .command-label {
        margin-bottom: 15px;
        color: var(--text-primary);
        font-weight: bold;
        transition: color var(--transition-base);
    }

    .command-code {
        background: var(--text-primary);
        color: var(--bg-card);
        padding: 10px;
        border-radius: 4px;
        margin-bottom: 15px;
        transition: background-color var(--transition-base), color var(--transition-base);
    }

    .small-message {
        font-size: 14px;
        margin-top: 20px;
        color: var(--text-meta);
        transition: color var(--transition-base);
    }

    .btn {
        padding: 15px 30px;
        font-size: 16px;
        font-weight: bold;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        background: var(--color-primary);
        color: var(--text-white);
        text-decoration: none;
        display: inline-block;
        transition: all var(--transition-base);
    }

    .btn:hover {
        background: var(--btn-primary-bg-hover);
        transform: translateY(-1px);
    }
</style>
{% endblock %}

{% block main_container %}
<div class="container-complete">
    <div class="complete-card">
        {% if stats.total == 0 %}
        <div class="warning-icon">ðŸ“‹</div>
        <div class="title">No Labeling Session</div>
        <div class="message">
            There are no items in the labeling session. To create a new labeling session, run the following command:
        </div>

        <div class="stats command-box">
            <div class="command-label">
                For similarity-based sampling (initial training):
            </div>
            <div class="command-code">
                papersorter labeling create --sample-size 200
            </div>

            <div class="command-label">
                For model-based sampling (refinement):
            </div>
            <div class="command-code">
                papersorter labeling create --base-model 1 --sample-size 1000
            </div>
        </div>

        <div class="message small-message">
            After creating a labeling session, return here to start labeling papers.
        </div>
        {% else %}
        <div class="success-icon">âœ“</div>
        <div class="title">Labeling Complete!</div>
        <div class="message">
            Great job! You have labeled all available items in the dataset.
        </div>

        <div class="stats">
            <div class="stat-row">
                <span class="stat-label">Total Items:</span>
                <span class="stat-value">{{ stats.total }}</span>
            </div>
            <div class="stat-row">
                <span class="stat-label">Items Labeled:</span>
                <span class="stat-value">{{ stats.labeled }}</span>
            </div>
            <div class="stat-row">
                <span class="stat-label">Completion Rate:</span>
                <span class="stat-value">{{ "%.1f"|format(stats.progress) }}%</span>
            </div>
        </div>
        {% endif %}

        <a href="/" class="btn">Back to Paper List</a>
    </div>
</div>
{% endblock %}